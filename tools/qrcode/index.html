<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Generate and scan QR codes with customization options. Support for URLs, text, WiFi, vCard, and more.">
  <meta property="og:title" content="KVSOVANREACH | QR Code Generator">
  <meta property="og:description" content="Create custom QR codes or scan existing ones. Multiple formats and download options.">
  <meta property="og:image" content="/assets/img/favicons/og-image.png">
  <title>KVSOVANREACH | QR Code</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/assets/img/favicons/favicon.ico">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- QR Code Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

  <!-- Common Tools CSS -->
  <link rel="stylesheet" href="../../js/tools-common.css">
  <!-- QR Code CSS -->
  <link rel="stylesheet" href="qrcode.css">
</head>
<body>
  <!-- Skip to Content -->
  <a href="#qrcode" class="skip-link">Skip to QR code tool</a>

  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <a href="../../tools.html" class="nav-logo">
        <span class="logo-text">KVSOVANREACH</span>
        <span class="logo-divider">|</span>
        <span class="logo-tools">TOOLS</span>
      </a>

      <div class="nav-actions">
        <a href="../../tools.html" class="back-btn" title="Back to Tools">
          <i class="fa-solid fa-arrow-left"></i>
        </a>
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
          <i class="fa-solid fa-moon"></i>
          <i class="fa-solid fa-sun"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="tool-page">
    <div class="container">
      <!-- QR Code Container -->
      <div class="qr-wrapper" id="qrcode">
        <!-- Header -->
        <div class="qr-header">
          <h2><i class="fa-solid fa-qrcode"></i> QR Code</h2>
        </div>

        <!-- Tab Navigation -->
        <div class="qr-tabs">
          <button class="qr-tab active" data-tab="generator">
            <i class="fa-solid fa-qrcode"></i>
            <span>Generator</span>
          </button>
          <button class="qr-tab" data-tab="scanner">
            <i class="fa-solid fa-camera"></i>
            <span>Scanner</span>
          </button>
          <button class="qr-tab" data-tab="bulk">
            <i class="fa-solid fa-layer-group"></i>
            <span>Bulk</span>
          </button>
          <button class="qr-tab" data-tab="history">
            <i class="fa-solid fa-clock-rotate-left"></i>
            <span>History</span>
          </button>
        </div>

        <!-- Main Content Area -->
        <div class="qr-main">
          <!-- Generator Panel -->
          <div class="qr-panel active" id="generatorPanel">
            <div class="generator-layout">
              <!-- Left: Input Section -->
              <div class="generator-input">
                <!-- Content Type Selector -->
                <div class="content-type-selector">
                  <label>Content Type</label>
                  <div class="type-buttons">
                    <button class="type-btn active" data-type="text">
                      <i class="fa-solid fa-font"></i>
                      <span>Text</span>
                    </button>
                    <button class="type-btn" data-type="url">
                      <i class="fa-solid fa-link"></i>
                      <span>URL</span>
                    </button>
                    <button class="type-btn" data-type="wifi">
                      <i class="fa-solid fa-wifi"></i>
                      <span>WiFi</span>
                    </button>
                    <button class="type-btn" data-type="vcard">
                      <i class="fa-solid fa-address-card"></i>
                      <span>vCard</span>
                    </button>
                    <button class="type-btn" data-type="email">
                      <i class="fa-solid fa-envelope"></i>
                      <span>Email</span>
                    </button>
                    <button class="type-btn" data-type="phone">
                      <i class="fa-solid fa-phone"></i>
                      <span>Phone</span>
                    </button>
                  </div>
                </div>

                <!-- Dynamic Input Forms -->
                <div class="input-forms">
                  <!-- Text Input -->
                  <div class="input-form active" id="textForm">
                    <div class="form-group">
                      <label for="textInput">Text Content</label>
                      <textarea id="textInput" rows="4" placeholder="Enter any text..."></textarea>
                      <div class="input-meta">
                        <span class="char-count"><span id="textCharCount">0</span> / 2953 chars</span>
                        <span class="capacity-warning" id="textCapacityWarning"></span>
                      </div>
                    </div>
                  </div>

                  <!-- URL Input -->
                  <div class="input-form" id="urlForm">
                    <div class="form-group">
                      <label for="urlInput">Website URL</label>
                      <input type="url" id="urlInput" placeholder="https://example.com">
                      <span class="input-error" id="urlError"></span>
                    </div>
                  </div>

                  <!-- WiFi Input -->
                  <div class="input-form" id="wifiForm">
                    <div class="form-group">
                      <label for="wifiSsid">Network Name (SSID)</label>
                      <input type="text" id="wifiSsid" placeholder="WiFi Network Name">
                    </div>
                    <div class="form-group">
                      <label for="wifiPassword">Password</label>
                      <div class="password-input">
                        <input type="password" id="wifiPassword" placeholder="WiFi Password">
                        <button class="toggle-password" type="button" aria-label="Toggle password visibility">
                          <i class="fa-solid fa-eye"></i>
                        </button>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="wifiEncryption">Encryption</label>
                      <select id="wifiEncryption">
                        <option value="WPA">WPA/WPA2</option>
                        <option value="WEP">WEP</option>
                        <option value="nopass">None</option>
                      </select>
                    </div>
                    <div class="form-group checkbox-group">
                      <input type="checkbox" id="wifiHidden">
                      <label for="wifiHidden">Hidden Network</label>
                    </div>
                  </div>

                  <!-- vCard Input -->
                  <div class="input-form" id="vcardForm">
                    <div class="form-row">
                      <div class="form-group">
                        <label for="vcardFirstName">First Name</label>
                        <input type="text" id="vcardFirstName" placeholder="John">
                      </div>
                      <div class="form-group">
                        <label for="vcardLastName">Last Name</label>
                        <input type="text" id="vcardLastName" placeholder="Doe">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="vcardTitle">Job Title</label>
                        <input type="text" id="vcardTitle" placeholder="Software Engineer">
                      </div>
                      <div class="form-group">
                        <label for="vcardOrg">Organization</label>
                        <input type="text" id="vcardOrg" placeholder="Company Name">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="vcardPhone">Phone</label>
                        <input type="tel" id="vcardPhone" placeholder="+1 234 567 8900">
                      </div>
                      <div class="form-group">
                        <label for="vcardEmail">Email</label>
                        <input type="email" id="vcardEmail" placeholder="john@example.com">
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="vcardWebsite">Website</label>
                      <input type="url" id="vcardWebsite" placeholder="https://example.com">
                    </div>
                    <div class="form-group">
                      <label for="vcardAddress">Address</label>
                      <input type="text" id="vcardAddress" placeholder="123 Main St, City, Country">
                    </div>
                    <div class="form-group">
                      <label for="vcardNote">Note</label>
                      <input type="text" id="vcardNote" placeholder="Additional notes...">
                    </div>
                  </div>

                  <!-- Email Input -->
                  <div class="input-form" id="emailForm">
                    <div class="form-group">
                      <label for="emailAddress">Email Address</label>
                      <input type="email" id="emailAddress" placeholder="recipient@example.com">
                      <span class="input-error" id="emailError"></span>
                    </div>
                    <div class="form-group">
                      <label for="emailSubject">Subject</label>
                      <input type="text" id="emailSubject" placeholder="Email subject...">
                    </div>
                    <div class="form-group">
                      <label for="emailBody">Message</label>
                      <textarea id="emailBody" rows="3" placeholder="Email body..."></textarea>
                    </div>
                  </div>

                  <!-- Phone Input -->
                  <div class="input-form" id="phoneForm">
                    <div class="form-group">
                      <label for="phoneNumber">Phone Number</label>
                      <input type="tel" id="phoneNumber" placeholder="+1 234 567 8900">
                      <span class="input-error" id="phoneError"></span>
                    </div>
                  </div>
                </div>

                <!-- Customization Options -->
                <div class="customization-section">
                  <button class="customization-toggle" id="customizationToggle">
                    <span>Customization</span>
                    <i class="fa-solid fa-chevron-down"></i>
                  </button>
                  <div class="customization-content" id="customizationContent">
                    <!-- Style Presets -->
                    <div class="form-group">
                      <label>Style Presets</label>
                      <div class="style-presets" id="stylePresets">
                        <button class="preset-btn active" data-fg="#000000" data-bg="#FFFFFF" title="Classic">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #000 50%, #FFF 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#1a1a2e" data-bg="#eef2f7" title="Soft">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #1a1a2e 50%, #eef2f7 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#2563eb" data-bg="#dbeafe" title="Blue">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #2563eb 50%, #dbeafe 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#059669" data-bg="#d1fae5" title="Green">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #059669 50%, #d1fae5 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#7c3aed" data-bg="#ede9fe" title="Purple">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #7c3aed 50%, #ede9fe 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#dc2626" data-bg="#fee2e2" title="Red">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #dc2626 50%, #fee2e2 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#d97706" data-bg="#fef3c7" title="Amber">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #d97706 50%, #fef3c7 50%);"></span>
                        </button>
                        <button class="preset-btn" data-fg="#FFFFFF" data-bg="#000000" title="Inverted">
                          <span class="preset-preview" style="background: linear-gradient(135deg, #FFF 50%, #000 50%);"></span>
                        </button>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="qrSize">Size</label>
                        <select id="qrSize">
                          <option value="128">128 x 128</option>
                          <option value="200">200 x 200</option>
                          <option value="256" selected>256 x 256</option>
                          <option value="512">512 x 512</option>
                          <option value="1024">1024 x 1024</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label for="errorCorrection">Error Correction</label>
                        <select id="errorCorrection">
                          <option value="L">Low (7%)</option>
                          <option value="M" selected>Medium (15%)</option>
                          <option value="Q">Quartile (25%)</option>
                          <option value="H">High (30%)</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group">
                        <label for="foregroundColor">Foreground</label>
                        <div class="color-input">
                          <input type="color" id="foregroundColor" value="#000000">
                          <input type="text" id="foregroundHex" value="#000000" maxlength="7">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="backgroundColor">Background</label>
                        <div class="color-input">
                          <input type="color" id="backgroundColor" value="#FFFFFF">
                          <input type="text" id="backgroundHex" value="#FFFFFF" maxlength="7">
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="qrMargin">Margin</label>
                      <input type="range" id="qrMargin" min="0" max="10" value="4">
                      <span class="range-value" id="marginValue">4</span>
                    </div>
                    <!-- Logo Upload -->
                    <div class="form-group">
                      <label>Center Logo</label>
                      <div class="logo-upload" id="logoUpload">
                        <div class="logo-preview" id="logoPreview">
                          <img id="logoImage" alt="Logo" style="display: none;">
                          <button class="remove-logo-btn" id="removeLogoBtn" style="display: none;">
                            <i class="fa-solid fa-xmark"></i>
                          </button>
                        </div>
                        <button class="upload-logo-btn" id="uploadLogoBtn">
                          <i class="fa-solid fa-image"></i>
                          <span>Add Logo</span>
                        </button>
                        <input type="file" id="logoInput" accept="image/*" hidden>
                      </div>
                      <span class="input-hint">Use High error correction for logos</span>
                    </div>
                  </div>
                </div>

                <!-- Generate Button -->
                <button class="generate-btn" id="generateBtn">
                  <i class="fa-solid fa-qrcode"></i>
                  <span class="spinner"></span>
                  <span>Generate QR Code</span>
                </button>
              </div>

              <!-- Right: Preview Section -->
              <div class="generator-preview">
                <div class="preview-card">
                  <div class="preview-header">
                    <h4>Preview</h4>
                    <button class="refresh-btn" id="refreshBtn" title="Regenerate">
                      <i class="fa-solid fa-rotate"></i>
                    </button>
                  </div>
                  <div class="preview-area" id="previewArea">
                    <div class="preview-placeholder">
                      <i class="fa-solid fa-qrcode"></i>
                      <p>QR code will appear here</p>
                    </div>
                    <canvas id="qrCanvas" style="display: none;"></canvas>
                  </div>
                  <div class="preview-content" id="previewContent"></div>
                </div>

                <!-- Download Options -->
                <div class="download-section" id="downloadSection" style="display: none;">
                  <h4>Download</h4>
                  <div class="download-buttons">
                    <button class="download-btn" data-format="png">
                      <i class="fa-solid fa-image"></i>
                      <span>PNG</span>
                    </button>
                    <button class="download-btn" data-format="svg">
                      <i class="fa-solid fa-code"></i>
                      <span>SVG</span>
                    </button>
                    <button class="download-btn" data-format="jpeg">
                      <i class="fa-solid fa-file-image"></i>
                      <span>JPEG</span>
                    </button>
                  </div>
                  <button class="copy-btn" id="copyImageBtn">
                    <i class="fa-solid fa-copy"></i>
                    <span>Copy to Clipboard</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Scanner Panel -->
          <div class="qr-panel" id="scannerPanel">
            <div class="scanner-container">
              <!-- Scanner Options -->
              <div class="scanner-options">
                <button class="scanner-option active" data-source="camera">
                  <i class="fa-solid fa-camera"></i>
                  <span>Camera</span>
                </button>
                <button class="scanner-option" data-source="upload">
                  <i class="fa-solid fa-upload"></i>
                  <span>Upload Image</span>
                </button>
              </div>

              <!-- Camera Scanner -->
              <div class="scanner-source active" id="cameraScanner">
                <div class="camera-container" id="cameraContainer">
                  <video id="cameraVideo" playsinline></video>
                  <div class="scan-overlay">
                    <div class="scan-frame"></div>
                  </div>
                  <div class="camera-placeholder" id="cameraPlaceholder">
                    <i class="fa-solid fa-camera"></i>
                    <p>Camera access required</p>
                    <button class="start-camera-btn" id="startCameraBtn">
                      <i class="fa-solid fa-play"></i>
                      Start Camera
                    </button>
                  </div>
                </div>
                <div class="camera-controls">
                  <button class="camera-control-btn" id="switchCameraBtn" title="Switch Camera">
                    <i class="fa-solid fa-camera-rotate"></i>
                  </button>
                  <button class="camera-control-btn" id="flashBtn" title="Toggle Flash">
                    <i class="fa-solid fa-bolt"></i>
                  </button>
                </div>
              </div>

              <!-- Upload Scanner -->
              <div class="scanner-source" id="uploadScanner">
                <div class="upload-area" id="uploadArea">
                  <i class="fa-solid fa-cloud-arrow-up"></i>
                  <p>Drop image here or click to upload</p>
                  <span>Supports JPG, PNG, GIF</span>
                  <input type="file" id="scanImageInput" accept="image/*" hidden>
                </div>
                <div class="upload-preview" id="uploadPreview" style="display: none;">
                  <img id="uploadedImage" alt="Uploaded image">
                  <button class="remove-upload-btn" id="removeUploadBtn">
                    <i class="fa-solid fa-xmark"></i>
                  </button>
                </div>
              </div>

              <!-- Scan Result -->
              <div class="scan-result" id="scanResult" style="display: none;">
                <div class="result-header">
                  <i class="fa-solid fa-check-circle"></i>
                  <h4>QR Code Detected</h4>
                </div>
                <div class="result-content" id="resultContent"></div>
                <div class="result-actions">
                  <button class="result-action-btn" id="copyResultBtn">
                    <i class="fa-solid fa-copy"></i>
                    Copy
                  </button>
                  <button class="result-action-btn" id="openResultBtn" style="display: none;">
                    <i class="fa-solid fa-external-link"></i>
                    Open
                  </button>
                  <button class="result-action-btn" id="scanAgainBtn">
                    <i class="fa-solid fa-rotate"></i>
                    Scan Again
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Bulk Panel -->
          <div class="qr-panel" id="bulkPanel">
            <div class="bulk-container">
              <div class="bulk-input">
                <div class="form-group">
                  <label for="bulkTextarea">Enter data (one per line)</label>
                  <textarea id="bulkTextarea" rows="8" placeholder="https://example1.com&#10;https://example2.com&#10;https://example3.com"></textarea>
                </div>
                <div class="bulk-options">
                  <div class="form-group">
                    <label for="bulkPrefix">Prefix (optional)</label>
                    <input type="text" id="bulkPrefix" placeholder="https://">
                  </div>
                  <div class="form-group">
                    <label for="bulkSize">Size</label>
                    <select id="bulkSize">
                      <option value="128">128 x 128</option>
                      <option value="200" selected>200 x 200</option>
                      <option value="256">256 x 256</option>
                    </select>
                  </div>
                </div>
                <button class="generate-btn" id="bulkGenerateBtn">
                  <i class="fa-solid fa-layer-group"></i>
                  <span>Generate All</span>
                </button>
              </div>
              <div class="bulk-results" id="bulkResults">
                <div class="bulk-placeholder">
                  <i class="fa-solid fa-layer-group"></i>
                  <p>Generated QR codes will appear here</p>
                </div>
              </div>
              <div class="bulk-download" id="bulkDownload" style="display: none;">
                <button class="download-btn" id="downloadAllBtn">
                  <i class="fa-solid fa-download"></i>
                  <span>Download All (ZIP)</span>
                </button>
              </div>
            </div>
          </div>

          <!-- History Panel -->
          <div class="qr-panel" id="historyPanel">
            <div class="history-container">
              <div class="history-header">
                <h4>Recent QR Codes</h4>
                <button class="clear-history-btn" id="clearHistoryBtn">
                  <i class="fa-solid fa-trash"></i>
                  Clear All
                </button>
              </div>
              <div class="history-list" id="historyList">
                <div class="history-empty">
                  <i class="fa-solid fa-clock-rotate-left"></i>
                  <p>No QR codes generated yet</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p class="footer-copy">&copy; <span id="current-year"></span> Kong Vungsovanreach. All rights reserved.</p>
        <p class="footer-made">Made with ðŸ’— and Claude Code xD</p>
      </div>
    </div>
  </footer>

  <!-- Keyboard Shortcuts Modal -->
  <div class="shortcuts-modal" id="shortcutsModal">
    <div class="shortcuts-content">
      <div class="shortcuts-header">
        <h3><i class="fa-solid fa-keyboard"></i> Keyboard Shortcuts</h3>
        <button class="close-shortcuts-btn" id="closeShortcutsBtn">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="shortcuts-body">
        <!-- Actions Section -->
        <div class="shortcuts-group">
          <div class="shortcuts-group-title">Actions</div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>G</kbd></div>
            <div class="shortcut-desc">Generate QR</div>
          </div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>D</kbd></div>
            <div class="shortcut-desc">Download</div>
          </div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>C</kbd></div>
            <div class="shortcut-desc">Copy image</div>
          </div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>1</kbd><span class="key-separator">-</span><kbd>6</kbd></div>
            <div class="shortcut-desc">Content type</div>
          </div>
        </div>

        <!-- Navigation Section -->
        <div class="shortcuts-group">
          <div class="shortcuts-group-title">Navigation</div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>S</kbd></div>
            <div class="shortcut-desc">Scanner tab</div>
          </div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>B</kbd></div>
            <div class="shortcut-desc">Bulk tab</div>
          </div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>H</kbd></div>
            <div class="shortcut-desc">History tab</div>
          </div>
          <div class="shortcut-row">
            <div class="shortcut-keys"><kbd>?</kbd></div>
            <div class="shortcut-desc">Show shortcuts</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <!-- Keyboard Shortcuts Hint -->
  <div class="shortcuts-hint" id="shortcutsHint">
    <span>Press <kbd>?</kbd> for shortcuts</span>
  </div>

  <!-- Shared Tools JavaScript -->
  <script src="../../js/tools-common.js"></script>
  <!-- QR Code JavaScript -->
  <script src="qrcode.js"></script>
</body>
</html>
